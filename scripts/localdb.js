const bucket=localStorage;function storageAvailable(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(s){return s instanceof DOMException&&(22===s.code||1014===s.code||"QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name)&&t&&0!==t.length}}class LocalDB{constructor(){!1===storageAvailable("localStorage")&&alert("this browser is not supporrted by localpad! (localstorage not available)"),this.bucket=bucket,this.storage=()=>{let e=[];return Object.keys({...bucket}).forEach(function(t){let r=JSON.parse({...bucket}[t]);r=Object.assign({id:t},r),e.push(r)}),e},this.write=(e,t)=>bucket.setItem(e,JSON.stringify(t)),this.read=e=>{let t=JSON.parse(bucket.getItem(e));return null===t?"this entry does not exist!":t},this.rewrite=(e,t)=>{null===JSON.parse(bucket.getItem(e))?console.error(`entry of id "${e}" does not exist, cannot rewrite!`):bucket.setItem(e,JSON.stringify(t))},this.remove=e=>bucket.removeItem(e),this.clear=()=>bucket.clear()}}